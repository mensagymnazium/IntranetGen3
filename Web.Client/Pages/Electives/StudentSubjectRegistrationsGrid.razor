<HxGrid @ref="gridComponent"
        TItem="StudentSubjectRegistrationDto"
        SelectionEnabled="this.SelectionEnabled"
        SelectedDataItem="this.SelectedDataItem"
        SelectedDataItemChanged="HandleSelectedDataItemChanged"
        DataProvider="this.DataProvider"
        IsResponsive="true">
    <Columns>
        <HxGridColumn HeaderText="Předmět"
                      ItemTextSelector="i => SubjectsDataStore.TryGetByKey(i.SubjectId.Value)?.Name"
                      SortString="@nameof(StudentSubjectRegistrationDto.SubjectId)"
                      Visible="this.ShowSubjectColumn"
                      TItem="StudentSubjectRegistrationDto" />
        <HxGridColumn HeaderText="Student"
                      ItemTextSelector="i => StudentsDataStore.TryGetByKey(i.StudentId.Value)?.Name"
                      SortString="@nameof(StudentSubjectRegistrationDto.StudentId)"
                      TItem="StudentSubjectRegistrationDto" />
        <HxGridColumn HeaderText="Ročník"
                      ItemTextSelector="i => GetStudentGradeName(i)"
                      SortString="StudentGradeId"
                      TItem="StudentSubjectRegistrationDto" />
        <HxGridColumn HeaderText="Typ zápisu"
                      ItemTextSelector="i => i.RegistrationType.AsEnumValueDescription()"
                      SortString="@nameof(StudentSubjectRegistrationDto.RegistrationType)"
                      TItem="StudentSubjectRegistrationDto" />
        <HxGridColumn HeaderText="Zápisové pravidlo"
                      ItemTextSelector="i => SigningRulesDataStore.GetByKey(i.SigningRuleId.Value)?.Name"
                      SortString="@nameof(StudentSubjectRegistrationDto.SigningRuleId)"
                      TItem="StudentSubjectRegistrationDto" />
    </Columns>
    <ContextMenu Context="item">
        <AuthorizeView Roles="@nameof(Role.Administrator)">
            <HxContextMenu>
                <HxContextMenuItem Text="Smazat"
                                   OnClick="async () => await HandleDeleteItemClicked(item)"
                                   ConfirmationQuestion="Opravdu si přejete zápis smazat?" />
            </HxContextMenu>
        </AuthorizeView>
    </ContextMenu>
</HxGrid>
