@attribute [Route(Routes.Electives.StudentSubjectRegistrationProgressList)]

<HxListLayout Title="Postupy registrací studentů">
	<FilterTemplate>
		<GradePicker Label="Ročník" @bind-Value="context.GradeId" />
		<StudentPicker Label="Student" @bind-Value="context.StudentId" />
		<SubjectPicker Label="Předmět" @bind-Value="context.SubjectId" />
		<StudentRegistrationTypePicker Label="Typ zápisu" @bind-Value="context.RegistrationType" />
	</FilterTemplate>
	<DataTemplate>
		<AuthorizeView Context="authenticationState">
			<HxGrid @ref="gridComponent"
			        TItem="StudentSubjectRegistrationDto"
			        DataProvider="this.DataProvider"
			        Responsive="true">
				<Columns>
					<HxGridColumn HeaderText="Příjmení"
					              ItemTextSelector="@(i => StudentsDataStore.GetByKeyOrDefault(i.StudentId.Value)?.LastName ?? "-příjmení nenačteno-")"
					              SortString="StudentLastName"
					              TItem="StudentSubjectRegistrationDto"
					              IsDefaultSortColumn='true'/>

				</Columns>
			</HxGrid>
		</AuthorizeView>
	</DataTemplate>
</HxListLayout>