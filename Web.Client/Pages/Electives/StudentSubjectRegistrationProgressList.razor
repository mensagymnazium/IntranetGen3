@attribute [Route(Routes.Electives.StudentSubjectRegistrationProgressList)]

<HxListLayout Title="Postupy registrací studentů"
              TFilterModel="StudentSubjectRegistrationProgressListFilter"
              @bind-FilterModel="filterModel"
              @bind-FilterModel:after='grid.RefreshDataAsync'>
	<FilterTemplate>
		<GradePicker Label="Ročník" @bind-Value="context.GradeId" />
		<StudentPicker Label="Student" @bind-Value="context.StudentId" />
	</FilterTemplate>
	<DataTemplate>
		<AuthorizeView Context="authenticationState">
			<HxGrid @ref="grid"
			        TItem="StudentSubjectRegistrationProgressListItemDto"
			        DataProvider="this.DataProvider"
			        Responsive="true">
				<Columns>
					<HxGridColumn HeaderText="Příjmení"
					              ItemTextSelector="@(i => GetStudentLastName(i.StudentId))"
					              SortString="StudentLastName"
					              IsDefaultSortColumn='true'/>

					<HxGridColumn HeaderText="Ročník"
					              ItemTextSelector="@(i => GetStudentGradeName(i.StudentId))"
					              SortString="Grade"/>

					<HxGridColumn HeaderText="Splněno A/N"
					              ItemTextSelector="@(i => i.IsRegistrationValid ? "A" : "N")"
					              SortString="ValidationState"/>
				</Columns>
			</HxGrid>
		</AuthorizeView>
	</DataTemplate>
</HxListLayout>