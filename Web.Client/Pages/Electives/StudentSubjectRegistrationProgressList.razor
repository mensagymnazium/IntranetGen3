@attribute [Route(Routes.Electives.StudentSubjectRegistrationProgressList)]

<HxListLayout Title="Postupy registrací studentů"
              TFilterModel="StudentSubjectRegistrationProgressListFilter"
              @bind-FilterModel="_filterModel"
              @bind-FilterModel:after='_grid.RefreshDataAsync'>
	<FilterTemplate>
		<GradePicker Label="Ročník" @bind-Value="context.GradeId" />
		<StudentPicker Label="Student" @bind-Value="context.StudentId" />
	</FilterTemplate>
	<DataTemplate>
		<AuthorizeView Context="authenticationState">
			<HxGrid @ref="_grid"
			        TItem="StudentSubjectRegistrationProgressListItemDto"
			        DataProvider="this.DataProvider"
			        Responsive="true">
				<Columns>
					<HxGridColumn HeaderText="Příjmení"
					              ItemTextSelector="s => GetStudentLastName(s.StudentId)"
					              SortKeySelector="s => GetStudentLastName(s.StudentId)"
					              IsDefaultSortColumn="true"/>

					<HxGridColumn HeaderText="Ročník"
					              ItemTextSelector="s => GetStudentGradeName(s.StudentId)"
					              SortKeySelector="s => -GetStudentGradeId(s.StudentId)"/>

					<HxGridColumn HeaderText="Splněno A/N"
					              ItemTextSelector="@(i => i.IsRegistrationValid ? "A" : "N")"
					              SortKeySelector="s => s.IsRegistrationValid"/>
				</Columns>
			</HxGrid>
		</AuthorizeView>
	</DataTemplate>
</HxListLayout>